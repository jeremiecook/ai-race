<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Machine Learning</title>
    <link rel="stylesheet" href="assets/css/game.css">
</head>
<body>

	<!-- Game Display -->
	<div class="display">
		<div class="information">
			<a href="#" class="button run">Start</a>
			<a href="#" class="button next">⮕</a>
		</div>
		<div id="game" class="board"></div>
	</div>

	<!-- Vendors -->
    <script src="vendors/jquery.slim.min.js"></script>
    <script src="vendors/p5.min.js"></script><!-- 0.5.16 -->
	<script src="vendors/neataptic.js"></script>

	<!-- Json -->
	<script src="export/network.js"></script>

	<!-- Core Game -->
	<script src="assets/js/utils.js"></script>
	<script src="assets/js/board.js"></script>
	<script src="assets/js/checkpoint.js"></script>
	<script src="assets/js/player.js"></script>

	<script>
/**
 * Initialisation
 * (Environnement Web)
 */

var WWW = true;
var DEBUG = true;

/**
 * Fonction de débug (pour le web)
 */
function lg (value) {
	if (DEBUG) console.log(value);
};


var $BOARD   = $('#game');
var TO_PIXEL = 800 / 16000;

var board = {};
var player = {};
var bestScore = 0;

// P5 Rendering
function setup() {

	board = new Board();
	board.randomCheckpoints();
	board.display();
	player = new Player(network);

	$('a.run').on('click', function () {
		$('a.run').toggleClass('start');
		$('a.run').html( $('a.run').hasClass('start') ? 'Stop' : 'Start' );
	});

	$('a.next').on('click', function () {
		player.simulate();
		player.display();
	});

}

function draw() {

	if ($('a.run').hasClass('start')) {
		player.simulate();
		player.display();
	}
}



	</script>

</body>
</html>
